{"version":3,"sources":["images/Logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/auth.js","images/success.svg","images/unsuccess.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","userData","handleLogOut","loggedIn","React","useState","hamburgerOpened","setHamburgerOpened","className","email","to","onClick","target","src","logo","alt","path","exact","id","type","htmlFor","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLike","likes","some","item","cardLikeButtonClassName","link","name","aria-label","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","Date","getFullYear","ImagePopup","props","onClose","api","address","token","this","_address","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkResponse","method","body","JSON","stringify","cardId","elem","isLiked","PopupWithForm","title","isOpen","buttonText","children","onSubmit","EditProfilePopup","onUpdateUser","setName","description","setDescripton","useEffect","_","evt","preventDefault","placeholder","minLength","maxLength","onChange","value","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","required","ref","AddPlacePopup","nameCard","setNameCard","linkCardImage","setLinkCardImage","e","Login","handleLogin","password","data","setData","handleChange","noValidate","Register","handleRegister","ProtectedRoute","Component","component","InfoTooltip","image","text","BASE_URL","checkResponse","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserData","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","isInfoTooltipPopupData","setIsInfoTooltipPopupData","history","useHistory","closeAllPopups","auth","localStorage","setItem","push","catch","err","console","log","removeItem","getItem","handleCheckToken","all","getInitialCards","getUserInfo","cardsData","error","Provider","i","changeLikeCardStatus","newCard","state","c","deleteCard","filter","imgSuccessSign","imgUnSuccessSign","finally","setUserInfo","addCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0b2576da.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport logo from '../images/Logo.svg';\r\n\r\nfunction Header({ userData, handleLogOut, loggedIn }) {\r\n    const [hamburgerOpened, setHamburgerOpened] = React.useState(false);\r\n    function handleHambergerMenu() {\r\n  \r\n      setHamburgerOpened(!hamburgerOpened);\r\n    }\r\n  \r\n    return (\r\n      <>\r\n        {hamburgerOpened && loggedIn &&\r\n          (<div className='header__container header__container_hamburger'>\r\n            <p className='header__email'>{userData.email}</p>\r\n            <Link className='header__auth-link header__auth-link_type_gray' to='/signin' onClick={handleLogOut} >Выйти</Link>\r\n          </div>)\r\n        }\r\n  \r\n        <header className=\"header\">\r\n          <Route>\r\n          <Link className=\"header__logo\" to='/' target=\"_self\">\r\n          <img className=\"header__img\" src={logo} alt=\"Логотип. Место.\" />\r\n          </Link>\r\n            </Route>\r\n          <Route path='/signup'>\r\n            <p className='header__email'>{userData.email}</p>\r\n            <Link className='header__auth-link' to='/signin'>Войти</Link>\r\n          </Route>\r\n          <Route path='/signin'>\r\n            <p className='header__email'>{userData.email}</p>\r\n            <Link className='header__auth-link' to='/signup'>Регистрация</Link>\r\n          </Route>\r\n          <Route exact path='/'>\r\n            <input id=\"header__hamburger-menu\" className=\"header__hamburger-menu\" type=\"checkBox\" />\r\n            <label htmlFor='header__hamburger-menu' className=\"header__hamburger-icon\" onClick={handleHambergerMenu} />\r\n  \r\n            <div className='header__container'>\r\n              <p className='header__email'>{userData.email}</p>\r\n              <Link className='header__auth-link header__auth-link_type_gray' to='/signin' onClick={handleLogOut} >Выйти</Link>\r\n            </div>\r\n          </Route>\r\n        </header>\r\n        </>\r\n    );\r\n  }\r\n\r\n  \r\n  export default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__delete ${isOwn ? '' : 'card__delete_hidden'}`\r\n    );\r\n\r\n    const isLike = card.likes.some(item => item._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLike && 'card__like_active'}`\r\n    )\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n      }\r\n    \r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <img className=\"card__photo\" src={card.link} alt={card.name} onClick={handleClick} />\r\n            <div className=\"card__info\">\r\n                <h4 className=\"card__title\">{card.name}</h4>\r\n                <div className=\"card__like-contain\">\r\n                    <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Лайк\" onClick={handleLikeClick}></button>\r\n                    <p className=\"card__like-count\">{card.likes.length}</p>\r\n                </div>\r\n                <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить\" onClick={handleDeleteClick}></button>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\r\n        <section className=\"profile\">\r\n            <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\r\n                <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Фото профиля\" />\r\n                <div className=\"profile__avatar-act\"></div>\r\n            </div>\r\n            <div className=\"profile__info\">\r\n                <h1 className=\"profile__info-author\">{currentUser.name}</h1>\r\n                <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Редактировать форму\" \r\n                onClick={onEditProfile}></button>\r\n                <p className=\"profile__info-subline\">{currentUser.about}</p>\r\n            </div>\r\n\r\n            <button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить фото\" onClick={onAddPlace}></button>\r\n        </section>\r\n\r\n        <section className=\"cards\">\r\n        <ul className=\"cards__list\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card card={card} onCardClick={onCardClick} key={card._id} onCardLike={onCardLike} onCardDelete={onCardDelete} />\r\n            );\r\n          })\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">{`© ${new Date().getFullYear()} Mesto Russia`}</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__img-container\">\r\n        <img className=\"popup__img\" src={props.card ? props.card.link : \"\"} alt={props.card ? props.card.name : \"\"}/>\r\n        <p className=\"popup__img-caption\">{props.card ? props.card.name : \"\"}</p>\r\n        <button className=\"popup__close\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;","    class Api {\r\n        constructor({ address, token }) {\r\n            this._address = address;\r\n            this._token = token;\r\n    }\r\n  \r\n    _checkResponse(res) {\r\n      return res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    \r\n    getUserInfo() { \r\n        return fetch(`${this._address}/users/me`,\r\n          {\r\n            headers: {\r\n              authorization: this._token\r\n            }\r\n          }).then(this._checkResponse);\r\n      }\r\n\r\n      setUserInfo({ name, about }) {\r\n        return fetch(`${this._address}/users/me`,\r\n          {\r\n            method: 'PATCH',\r\n            headers: {\r\n              authorization: this._token,\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: name,\r\n              about: about\r\n            })\r\n          }\r\n        ).then(this._checkResponse);\r\n      }\r\n    \r\n      getInitialCards() {\r\n        return fetch(`${this._address}/cards`,\r\n          {\r\n            headers: {\r\n              authorization: this._token\r\n            }\r\n          }).then(this._checkResponse);\r\n      }\r\n\r\n      addCard({ name, link }) {\r\n        return fetch(`${this._address}/cards`,\r\n          {\r\n            method: 'POST',\r\n            headers: {\r\n              authorization: this._token,\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: name,\r\n              link: link\r\n            })\r\n          }).then(this._checkResponse);\r\n      }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._address}/cards/${cardId}`,\r\n        {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._token,\r\n            },\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    setCurrentElement(elem) {\r\n        this.elem = elem;\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if (isLiked) {\r\n            return fetch(`${this._address}/cards/likes/${cardId}`,\r\n            {\r\n            method: 'Delete',\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        }).then(this._checkResponse);\r\n    } else {\r\n        return fetch(`${this._address}/cards/likes/${cardId}`,\r\n        {\r\n            method: 'PUT',\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        }).then(this._checkResponse);\r\n    }\r\n}\r\n\r\n    setUserAvatar({ avatar }) {\r\n        return fetch(`${this._address}/users/me/avatar`,\r\n        {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        }).then(this._checkResponse);\r\n    }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n    address: 'https://mesto.nomoreparties.co/v1/cohort-23',\r\n    token: '3ba80848-84c8-48bd-a97a-d35ecfe36586'\r\n  });\r\n\r\nexport default api;","function PopupWithForm({ title, name, isOpen, onClose, buttonText, children, onSubmit }) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n      <form className=\"popup__container\" name={name} onSubmit={onSubmit}>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n\r\n        {children}\r\n\r\n        <button className=\"popup__save\" type=\"submit\">{buttonText}</button>\r\n        <button className=\"popup__close popup__close_profile\" type=\"button\" aria-label=\"Закрыть\" onClick={onClose}></button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('Жак-Ив Кусто');\r\n  const [description, setDescripton] = React.useState('Исследователь');\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescripton(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(_ => {\r\n    setName(currentUser.name);\r\n    setDescripton(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm title=\"Редактировать&nbsp;профиль\"\r\n     buttonText='Сохранить' \r\n     name='edit-profile' \r\n     isOpen={isOpen}\r\n      onClose={onClose} \r\n      onSubmit={handleSubmit}>\r\n      <label className=\"popup__field\">\r\n        <input className=\"popup__input\" \r\n        type=\"text\" placeholder=\"Имя\" \r\n        name=\"name\" \r\n        minLength=\"2\" maxLength=\"40\"\r\n          onChange={handleChangeName} value={name || \"\"} />\r\n        <span className=\"popup__input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input className=\"popup__input\" type=\"text\"\r\n         placeholder=\"Работа\" name=\"about\"\r\n          minLength=\"2\" maxLength=\"200\"\r\n          onChange={handleChangeDescription} \r\n          value={description || \"\"} />\r\n        <span className=\"popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    })\r\n  }\r\n  \r\n  \r\n\r\n  return (\r\n    <PopupWithForm title=\"Обновить аватар\"\r\n     buttonText='Сохранить' \r\n     name='edit-avatar' \r\n     isOpen={isOpen}\r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} >\r\n      <label className=\"popup__field\">\r\n        <input className=\"popup__input\" type=\"url\" \r\n        minLength=\"2\" required\r\n         placeholder=\"Ссылка на картинку\"\r\n          name=\"link\"\r\n          ref={inputRef} />\r\n        <span className=\"popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n};\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [nameCard, setNameCard] = React.useState('');\r\n  const [linkCardImage, setLinkCardImage] = React.useState('');\r\n  \r\n  React.useEffect(_ => {\r\n    setNameCard('');\r\n    setLinkCardImage('');\r\n  }, [isOpen]);\r\n\r\n  function handleChangeNameCard(e) {\r\n    setNameCard(e.target.value);\r\n  }\r\n\r\n  function handleChangeLinkCardImage(e) {\r\n    setLinkCardImage(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: nameCard,\r\n      link: linkCardImage\r\n    });\r\n  }\r\n\r\nreturn (\r\n    <PopupWithForm \r\n    title=\"Новое место\" \r\n    buttonText='Создать' \r\n    name='add-card'\r\n    isOpen={isOpen} \r\n    onClose={onClose} \r\n    onSubmit={handleSubmit} >\r\n        <label className=\"popup__field\">\r\n        <input className=\"popup__input\"\r\n         type=\"text\" placeholder=\"Название\"\r\n          name=\"name\" minLength=\"2\" maxLength=\"30\"\r\n          onChange={handleChangeNameCard} \r\n          value={nameCard} />\r\n        <span className=\"popup__input-error\"></span>\r\n         </label>\r\n         <label className=\"popup__field\">\r\n        <input className=\"popup__input\" \r\n        type=\"url\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        name=\"link\"\r\n          onChange={handleChangeLinkCardImage} \r\n          value={linkCardImage} />\r\n        <span className=\"popup__input-error\"></span>\r\n        </label>    \r\n    </PopupWithForm>\r\n)\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\n\nfunction Login({ handleLogin }) {\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  });\n\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setData({ ...data, [name]: value })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const { password, email } = data;\n    handleLogin({ password, email });\n  }\n\n  return (\n    <form className=\"form\" name='login' \n    noValidate onSubmit={handleSubmit}>\n      <h2 className=\"form__title\">Вход</h2>\n      <label className=\"form__field\">\n        <input className=\"form__input\" \n        type=\"email\" placeholder=\"Email\" \n        name=\"email\" onChange={handleChange}\n          value={data.email} required/>\n      </label>\n      <label className=\"form__field\">\n        <input className=\"form__input\" \n        type=\"password\" placeholder=\"Пароль\" \n        name=\"password\" onChange={handleChange}\n          value={data.password} required/>\n      </label>\n      <button className=\"form__button\" \n      type=\"submit\">Войти</button>\n    </form>\n  );\n}\n\nexport default Login;","import React from 'react';\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ handleRegister }) {\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  });\n\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setData({ ...data, [name]: value })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const { password, email } = data;\n    handleRegister({ password, email });\n  }\n\n  return (\n    <form className=\"form\" name='register' noValidate onSubmit={handleSubmit}>\n      <h2 className=\"form__title\">Регистрация</h2>\n      <label className=\"form__field\">\n        <input className=\"form__input\" type=\"email\" placeholder=\"Email\" name=\"email\" onChange={handleChange}\n          value={data.email} required/>\n      </label>\n      <label className=\"form__field\">\n        <input className=\"form__input\" type=\"password\" placeholder=\"Пароль\" name=\"password\" onChange={handleChange}\n          value={data.password} required/>\n      </label>\n      <button className=\"form__button\" type=\"submit\">Зарегистрироваться</button>\n      <Link className='form__link' to='/signin' >Уже зарегистрированы? Войти</Link>\n    </form>\n  );\n}\n\nexport default Register;  ","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signup\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","function InfoTooltip({ image, text, isOpen, onClose }) {\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n      <div className='popup__container popup__container_place_info-tool'>\n        <img className='info-tool__img' alt={text} src={image} />\n        <h2 className=\" popup__title popup__title_type_center\">{text}</h2>\n        <button className=\"popup__close popup__close_type_center\" type=\"button\" aria-label=\"Закрыть\" onClick={onClose}></button>\n      </div>\n    </div >\n  )\n}\n\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\n//  проверка ответа\nconst checkResponse = (res) => {\n  return res.ok\n    ? res.json()\n    : Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ password, email })\n  }).then(checkResponse);\n}\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ password, email })\n  }).then(checkResponse);\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  }).then(checkResponse);\n}","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccess.df8eddf6.svg\";","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\nimport imgSuccessSign from '../images/success.svg';\nimport imgUnSuccessSign from '../images/unsuccess.svg';\n\nfunction App() {\n\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n    const [loggedIn, setLoggedIn] = React.useState(null);\n    const [userData, setUserData] = React.useState({ _id: '', email: '' });\n    const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n    const [isInfoTooltipPopupData, setIsInfoTooltipPopupData] = React.useState({ image: '', text: '' });\n    const history = useHistory();\n\n    React.useEffect(() => {\n      handleCheckToken();\n      Promise.all([api.getInitialCards(), api.getUserInfo()])\n        .then(([cardsData, userData]) => {\n          setCards(cardsData);\n          setCurrentUser(userData);\n        }).catch(err => console.error(err));\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    function handleCardLike(card) {\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\n      api.changeLikeCardStatus(card._id, isLiked)\n      .then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      })\n      .catch(err => console.error(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(_ => {\n        setCards(state => {\n          return state.filter(c => c._id !== card._id);\n        })\n      }).catch(err => console.error(err));\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    api.addCard(name, link)\n      .then(card => {\n        closeAllPopups();\n        setCards([card, ...cards]);\n      }).catch(err => console.error(err));\n\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleUpdateUser(name, about) {\n    api.setUserInfo(name, about)\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      }).catch(err => console.error(err));\n  }\n\n\n  function handleUpdateAvatar(avatar) {\n    api.setUserAvatar(avatar)\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      }).catch(err => console.error(err));\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltipPopupOpen(false);\n  }\n\n  function handleRegister({ password, email }) {\n    auth.register(password, email)\n      .then(res => {\n        const { email } = res.data;\n        setUserData({ ...userData, email });\n        setIsInfoTooltipPopupData({ image: imgSuccessSign, text: 'Вы успешно зарегистрировались!' });\n        handleLogin({ password, email });\n      })\n      .catch(err => {\n        console.log(err);\n        setIsInfoTooltipPopupData({ image: imgUnSuccessSign, text: 'Что-то пошло не так! Попробуйте ещё раз.' })\n      })\n      .finally(_ => {\n        setIsInfoTooltipPopupOpen(true);\n      });\n  }\n\n\n  function handleLogin({ password, email }) {\n    auth.authorize(password, email)\n      .then(res => {\n        const { token } = res;\n        localStorage.setItem('token', token);\n        setLoggedIn(true);\n        history.push('/');\n        setUserData({ ...userData, email });\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n\n  \n  function handleCheckToken() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.checkToken(token)\n        .then(res => {\n          const { _id, email } = res.data;\n          setUserData({ _id, email });\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch(err => {\n          console.log(err);\n        })\n    } else {\n      setLoggedIn(false);\n    }\n  }\n  \n\n  function handleLogOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('token');\n    history.push('/signin');\n    setUserData({ _id: '', email: '' });\n  }\n\n  if (loggedIn === null) {\n    return (\n      <Header userData={userData} handleLogOut={handleLogOut} />\n    )\n  }\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"container\">\n          <Header \n          userData={userData}\n          handleLogOut={handleLogOut}\n          loggedIn={loggedIn} />\n          \n          <Switch>\n            <ProtectedRoute exact path='/'\n              loggedIn={loggedIn}\n              component={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n\n            <Route path='/signin'>\n              <Login handleLogin={handleLogin} />\n            </Route>\n            <Route path='/signup'>\n              <Register handleRegister={handleRegister} />\n            </Route>\n            <Route>\n              {loggedIn ? (\n                <Redirect to=\"/\" />\n              ) : (\n                <Redirect to=\"/signup\" />\n              )}\n            </Route>\n          </Switch>\n          \n          <Footer />\n\n          {/* Попап редактировать профиль */}\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n           onUpdateUser={handleUpdateUser} />\n\n          {/* <!-- Попап добавить карточку --> */}\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} \n          onClose={closeAllPopups} \n          onAddPlace={handleAddPlaceSubmit} />\n\n          {/* <!-- Попап изменить аватар --> */}\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups} \n          onUpdateAvatar={handleUpdateAvatar} />\n\n\n          {/* <!-- Попап полной картинки --> */}\n          <ImagePopup onClose={closeAllPopups} card={selectedCard}/>\n\n\n          <InfoTooltip isOpen={isInfoTooltipPopupOpen} \n          onClose={closeAllPopups}\n            image={isInfoTooltipPopupData.image} \n            text={isInfoTooltipPopupData.text} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render((\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>),\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}